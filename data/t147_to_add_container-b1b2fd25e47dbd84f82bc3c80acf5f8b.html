(function(){$("toAddContainer").ready(function(){function d(){var a=document.getElementById("toAddContainer");return $(getFieldFromExpression(a)).select2("val")}function g(a){$("#copyAndPasteModal #copyPasteContent").val(a)}var h=$("#copyAndPasteModal"),k=function(){var a=$("#copyAndPasteModal input:radio[name=delimiter]:checked").val();return"none"===a?null:"others"===a?(a=$("#copyAndPasteModal #c_n_p_other_delimiter").val(),_.isEmpty(a)?null:a):a},l=function(){h.off("click.confirm").on("click.confirm",
".confirm-paste",function(a){a.preventDefault();a=$("#toAddContainer")[0];$(this).parentsUntil(".modal").parent().modal("hide");var c=$("#copyAndPasteModal #copyPasteContent").val();"Select Field"!==d()&&$(a).trigger("copyAndPaste:paste",[c])})};(function(){var a=document.getElementById("toAddContainer");$("#toAddContainer").on("copyAndPaste:paste",function(c,b){c=getValueTextFromExpression(a);var e=k(),f=d();null!=e&&(b=b.replace(new RegExp("\\s*"+e+"\\s*","g"),";"));null==b||_.isEmpty(b)||(copyAndPastesFields[f]=
{field:f,content:b,delimiter:e},$(c).val(b),$(a).trigger("query.builder.updateAJAXValues"))});$("#copyAndPasteModal").on("show.bs.modal",function(c){c=d();var b="";_.contains(_.keys(copyAndPastesFields),c)?(c=copyAndPastesFields[c],b=c.content.replace(/\\s*;\\s*/g,c.delimiter)):($("#copyAndPasteModal input:radio[id=delimiter_none]").prop("checked",!0),b=getCorrectSelectValueFromContainer(a),b=$(b).val());_.isArray(b)&&(b=_.filter(b,function(a){return!_.isEmpty(a)}).join(";"));g(b)});$(".showValue.showSelect").popover({content:function(){return $(this).find("#selectValue").val()},
show:!0,trigger:"hover"});l();$("#addContainerWithSubmit .modal-link").click(function(a){a.preventDefault();a=d();AJAXFieldMap[a]!==RF_TYPE_DATE&&AJAXFieldMap[a]!==RF_TYPE_PART_DATE&&$("#copyAndPasteModal").modal("show")})})()})})();