$(document).ready(function(){$(document).on("click",".history-justification .editIcon",function(b){e(b)});var e=function(b){var a=$(b.target).closest("td");$(b.target).hasClass("editIcon")&&a.find(".editedJustification").val($(b.target).closest(".history-justification").find("span").html());a.find(".edit-justification-box").show();a.find(".history-justification #confirmHistoryJustification").unbind().on("click",function(){k(a.find(".editedJustification").val(),a)});a.find(".history-justification #cancelHistoryJustification").unbind().on("click",
function(){f(a)})},k=function(b,a){var g=a.closest("tr").index(),e=a.closest("table").prop("id"),h=$("#"+e).DataTable(),c=h.rows(g).data()[0];if(b&&b.trim()!==c.justification.trim()){var d=a.closest("td");d.html();a={id:c.id,newJustification:b.trim()};$.ajax({url:updateJustificationUrl,type:"POST",data:a,dataType:"json",beforeSend:function(){d.html("<i id='justificationChangeProcessing' class='mdi mdi-spin mdi-loading'></i>")},success:function(a){c.justification=a.status?b:"";h.row(g).data(c).invalidate();
f(d)},error:function(){$.Notification.notify("error","top right","Error","Sorry we could not proceed with the request. Kindly contact the administrator.",{autoHideDelay:1E4});h.row(g).data(c).invalidate();f(d)}})}},f=function(b){b.find(".history-justification .edit-justification-box").hide();b.find(".history-justification .editedJustification").val("")}});