(function(E){"object"===typeof module&&module.exports?module.exports=E:E(Highcharts)})(function(E){(function(a){var r=a.deg2rad,k=a.pick;a.perspective=function(q,m,t){var p=m.options.chart.options3d,g=t?m.inverted:!1,h=m.plotWidth/2,n=m.plotHeight/2,c=p.depth/2,f=k(p.depth,1)*k(p.viewDistance,0),d=m.scale3d||1,b=r*p.beta*(g?-1:1),p=r*p.alpha*(g?-1:1),e=Math.cos(p),w=Math.cos(-b),y=Math.sin(p),z=Math.sin(-b);t||(h+=m.plotLeft,n+=m.plotTop);return a.map(q,function(b){var a,p;p=(g?b.y:b.x)-h;var m=(g?
b.x:b.y)-n,k=(b.z||0)-c;a=w*p-z*k;b=-y*z*p+e*m-w*y*k;p=e*z*p+y*m+e*w*k;m=0<f&&f<Number.POSITIVE_INFINITY?f/(p+c+f):1;a=a*m*d+h;b=b*m*d+n;return{x:g?b:a,y:g?a:b,z:p*d+c}})};a.pointCameraDistance=function(a,m){var t=m.options.chart.options3d,p=m.plotWidth/2;m=m.plotHeight/2;t=k(t.depth,1)*k(t.viewDistance,0)+t.depth;return Math.sqrt(Math.pow(p-a.plotX,2)+Math.pow(m-a.plotY,2)+Math.pow(t-a.plotZ,2))}})(E);(function(a){function r(b){var a=0,l,d;for(l=0;l<b.length;l++)d=(l+1)%b.length,a+=b[l].x*b[d].y-
b[d].x*b[l].y;return a/2}function k(b){var d=0,l;for(l=0;l<b.length;l++)d+=b[l].z;return b.length?d/b.length:0}function q(b,d,l,a,e,c,D,f){var g=[],n=c-e;return c>e&&c-e>Math.PI/2+1E-4?(g=g.concat(q(b,d,l,a,e,e+Math.PI/2,D,f)),g.concat(q(b,d,l,a,e+Math.PI/2,c,D,f))):c<e&&e-c>Math.PI/2+1E-4?(g=g.concat(q(b,d,l,a,e,e-Math.PI/2,D,f)),g.concat(q(b,d,l,a,e-Math.PI/2,c,D,f))):["C",b+l*Math.cos(e)-l*u*n*Math.sin(e)+D,d+a*Math.sin(e)+a*u*n*Math.cos(e)+f,b+l*Math.cos(c)+l*u*n*Math.sin(c)+D,d+a*Math.sin(c)-
a*u*n*Math.cos(c)+f,b+l*Math.cos(c)+D,d+a*Math.sin(c)+f]}var m=Math.cos,t=Math.PI,p=Math.sin,g=a.animObject,h=a.charts,n=a.color,c=a.defined,f=a.deg2rad,d=a.each,b=a.extend,e=a.inArray,w=a.map,y=a.merge,z=a.perspective,F=a.pick,A=a.SVGElement,B=a.SVGRenderer,v=a.wrap,u=4*(Math.sqrt(2)-1)/3/(t/2);B.prototype.toLinePath=function(b,a){var l=[];d(b,function(b){l.push("L",b.x,b.y)});b.length&&(l[0]="M",a&&l.push("Z"));return l};B.prototype.cuboid=function(b){var d=this.g();b=this.cuboidPath(b);d.attr({"stroke-linejoin":"round"});
d.front=this.path(b[0]).attr({"class":"highcharts-3d-front",zIndex:b[3]}).add(d);d.top=this.path(b[1]).attr({"class":"highcharts-3d-top",zIndex:b[4]}).add(d);d.side=this.path(b[2]).attr({"class":"highcharts-3d-side",zIndex:b[5]}).add(d);d.fillSetter=function(b){this.front.attr({fill:b});this.top.attr({fill:n(b).brighten(.1).get()});this.side.attr({fill:n(b).brighten(-.1).get()});this.color=b;return this};d.opacitySetter=function(b){this.front.attr({opacity:b});this.top.attr({opacity:b});this.side.attr({opacity:b});
return this};d.attr=function(b){if(b.shapeArgs||c(b.x))b=this.renderer.cuboidPath(b.shapeArgs||b),this.front.attr({d:b[0],zIndex:b[3]}),this.top.attr({d:b[1],zIndex:b[4]}),this.side.attr({d:b[2],zIndex:b[5]});else return a.SVGElement.prototype.attr.call(this,b);return this};d.animate=function(b,d,a){c(b.x)&&c(b.y)?(b=this.renderer.cuboidPath(b),this.front.attr({zIndex:b[3]}).animate({d:b[0]},d,a),this.top.attr({zIndex:b[4]}).animate({d:b[1]},d,a),this.side.attr({zIndex:b[5]}).animate({d:b[2]},d,a),
this.attr({zIndex:-b[6]})):b.opacity?(this.front.animate(b,d,a),this.top.animate(b,d,a),this.side.animate(b,d,a)):A.prototype.animate.call(this,b,d,a);return this};d.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return null};d.attr({zIndex:-b[6]});return d};B.prototype.cuboidPath=function(b){function d(b){return n[b]}var a=b.x,e=b.y,c=b.z,f=b.height,D=b.width,g=b.depth,n=[{x:a,y:e,z:c},{x:a+D,y:e,z:c},{x:a+D,y:e+f,z:c},{x:a,y:e+f,z:c},{x:a,y:e+f,z:c+g},{x:a+D,y:e+
f,z:c+g},{x:a+D,y:e,z:c+g},{x:a,y:e,z:c+g}],n=z(n,h[this.chartIndex],b.insidePlotArea),c=function(b,a){var e=[];b=w(b,d);a=w(a,d);0>r(b)?e=b:0>r(a)&&(e=a);return e};b=c([3,2,1,0],[7,6,5,4]);a=[4,5,2,3];e=c([1,6,7,0],a);c=c([1,2,5,6],[0,7,4,3]);return[this.toLinePath(b,!0),this.toLinePath(e,!0),this.toLinePath(c,!0),k(b),k(e),k(c),9E9*k(w(a,d))]};a.SVGRenderer.prototype.arc3d=function(a){function c(b){var a=!1,d={},l;for(l in b)-1!==e(l,w)&&(d[l]=b[l],delete b[l],a=!0);return a?d:!1}var l=this.g(),
p=l.renderer,w="x y r innerR start end".split(" ");a=y(a);a.alpha*=f;a.beta*=f;l.top=p.path();l.side1=p.path();l.side2=p.path();l.inn=p.path();l.out=p.path();l.onAdd=function(){var b=l.parentGroup,a=l.attr("class");l.top.add(l);d(["out","inn","side1","side2"],function(d){l[d].addClass(a+" highcharts-3d-side").add(b)})};l.setPaths=function(b){var a=l.renderer.arc3dPath(b),d=100*a.zTop;l.attribs=b;l.top.attr({d:a.top,zIndex:a.zTop});l.inn.attr({d:a.inn,zIndex:a.zInn});l.out.attr({d:a.out,zIndex:a.zOut});
l.side1.attr({d:a.side1,zIndex:a.zSide1});l.side2.attr({d:a.side2,zIndex:a.zSide2});l.zIndex=d;l.attr({zIndex:d});b.center&&(l.top.setRadialReference(b.center),delete b.center)};l.setPaths(a);l.fillSetter=function(b){var a=n(b).brighten(-.1).get();this.fill=b;this.side1.attr({fill:a});this.side2.attr({fill:a});this.inn.attr({fill:a});this.out.attr({fill:a});this.top.attr({fill:b});return this};d(["opacity","translateX","translateY","visibility"],function(b){l[b+"Setter"]=function(b,a){l[a]=b;d(["out",
"inn","side1","side2","top"],function(d){l[d].attr(a,b)})}});v(l,"attr",function(a,d){var e;"object"===typeof d&&(e=c(d))&&(b(l.attribs,e),l.setPaths(l.attribs));return a.apply(this,[].slice.call(arguments,1))});v(l,"animate",function(b,a,d,e){var l,f=this.attribs,n;delete a.center;delete a.z;delete a.depth;delete a.alpha;delete a.beta;n=g(F(d,this.renderer.globalAnimation));n.duration&&(a=y(a),l=c(a),a.dummy=1,l&&(n.step=function(b,a){function d(b){return f[b]+(F(l[b],f[b])-f[b])*a.pos}"dummy"===
a.prop&&a.elem.setPaths(y(f,{x:d("x"),y:d("y"),r:d("r"),innerR:d("innerR"),start:d("start"),end:d("end")}))}),d=n);return b.call(this,a,d,e)});l.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();A.prototype.destroy.call(this)};l.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};l.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};
return l};B.prototype.arc3dPath=function(b){function a(b){b%=2*Math.PI;b>Math.PI&&(b=2*Math.PI-b);return b}var d=b.x,e=b.y,c=b.start,f=b.end-1E-5,g=b.r,n=b.innerR,w=b.depth,h=b.alpha,k=b.beta,y=Math.cos(c),r=Math.sin(c);b=Math.cos(f);var z=Math.sin(f),x=g*Math.cos(k),g=g*Math.cos(h),u=n*Math.cos(k),v=n*Math.cos(h),n=w*Math.sin(k),C=w*Math.sin(h),w=["M",d+x*y,e+g*r],w=w.concat(q(d,e,x,g,c,f,0,0)),w=w.concat(["L",d+u*b,e+v*z]),w=w.concat(q(d,e,u,v,f,c,0,0)),w=w.concat(["Z"]),F=0<k?Math.PI/2:0,k=0<h?
0:Math.PI/2,F=c>-F?c:f>-F?-F:c,A=f<t-k?f:c<t-k?t-k:f,B=2*t-k,h=["M",d+x*m(F),e+g*p(F)],h=h.concat(q(d,e,x,g,F,A,0,0));f>B&&c<B?(h=h.concat(["L",d+x*m(A)+n,e+g*p(A)+C]),h=h.concat(q(d,e,x,g,A,B,n,C)),h=h.concat(["L",d+x*m(B),e+g*p(B)]),h=h.concat(q(d,e,x,g,B,f,0,0)),h=h.concat(["L",d+x*m(f)+n,e+g*p(f)+C]),h=h.concat(q(d,e,x,g,f,B,n,C)),h=h.concat(["L",d+x*m(B),e+g*p(B)]),h=h.concat(q(d,e,x,g,B,A,0,0))):f>t-k&&c<t-k&&(h=h.concat(["L",d+x*Math.cos(A)+n,e+g*Math.sin(A)+C]),h=h.concat(q(d,e,x,g,A,f,n,
C)),h=h.concat(["L",d+x*Math.cos(f),e+g*Math.sin(f)]),h=h.concat(q(d,e,x,g,f,A,0,0)));h=h.concat(["L",d+x*Math.cos(A)+n,e+g*Math.sin(A)+C]);h=h.concat(q(d,e,x,g,A,F,n,C));h=h.concat(["Z"]);k=["M",d+u*y,e+v*r];k=k.concat(q(d,e,u,v,c,f,0,0));k=k.concat(["L",d+u*Math.cos(f)+n,e+v*Math.sin(f)+C]);k=k.concat(q(d,e,u,v,f,c,n,C));k=k.concat(["Z"]);y=["M",d+x*y,e+g*r,"L",d+x*y+n,e+g*r+C,"L",d+u*y+n,e+v*r+C,"L",d+u*y,e+v*r,"Z"];d=["M",d+x*b,e+g*z,"L",d+x*b+n,e+g*z+C,"L",d+u*b+n,e+v*z+C,"L",d+u*b,e+v*z,"Z"];
z=Math.atan2(C,-n);e=Math.abs(f+z);b=Math.abs(c+z);c=Math.abs((c+f)/2+z);e=a(e);b=a(b);c=a(c);c*=1E5;f=1E5*b;e*=1E5;return{top:w,zTop:1E5*Math.PI+1,out:h,zOut:Math.max(c,f,e),inn:k,zInn:Math.max(c,f,e),side1:y,zSide1:.99*e,side2:d,zSide2:.99*f}}})(E);(function(a){function r(a,c){var f=a.plotLeft,d=a.plotWidth+f,b=a.plotTop,e=a.plotHeight+b,g=f+a.plotWidth/2,h=b+a.plotHeight/2,k=Number.MAX_VALUE,p=-Number.MAX_VALUE,m=Number.MAX_VALUE,r=-Number.MAX_VALUE,v,u=1;v=[{x:f,y:b,z:0},{x:f,y:b,z:c}];q([0,1],
function(b){v.push({x:d,y:v[b].y,z:v[b].z})});q([0,1,2,3],function(b){v.push({x:v[b].x,y:e,z:v[b].z})});v=t(v,a,!1);q(v,function(b){k=Math.min(k,b.x);p=Math.max(p,b.x);m=Math.min(m,b.y);r=Math.max(r,b.y)});f>k&&(u=Math.min(u,1-Math.abs((f+g)/(k+g))%1));d<p&&(u=Math.min(u,(d-g)/(p-g)));b>m&&(u=0>m?Math.min(u,(b+h)/(-m+b+h)):Math.min(u,1-(b+h)/(m+h)%1));e<r&&(u=Math.min(u,Math.abs((e-h)/(r-h))));return u}var k=a.Chart,q=a.each,m=a.merge,t=a.perspective,p=a.pick,g=a.wrap;k.prototype.is3d=function(){return this.options.chart.options3d&&
this.options.chart.options3d.enabled};k.prototype.propsRequireDirtyBox.push("chart.options3d");k.prototype.propsRequireUpdateSeries.push("chart.options3d");a.wrap(a.Chart.prototype,"isInsidePlot",function(a){return this.is3d()||a.apply(this,[].slice.call(arguments,1))});var h=a.getOptions();m(!0,h,{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1},side:{size:1},back:{size:1}}}}});g(k.prototype,"setClassName",function(a){a.apply(this,[].slice.call(arguments,
1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")});a.wrap(a.Chart.prototype,"setChartSize",function(a){var c=this.options.chart.options3d;a.apply(this,[].slice.call(arguments,1));if(this.is3d()){var f=this.inverted,d=this.clipBox,b=this.margin;d[f?"y":"x"]=-(b[3]||0);d[f?"x":"y"]=-(b[0]||0);d[f?"height":"width"]=this.chartWidth+(b[3]||0)+(b[1]||0);d[f?"width":"height"]=this.chartHeight+(b[0]||0)+(b[2]||0);this.scale3d=1;!0===c.fitToPlot&&(this.scale3d=r(this,c.depth))}});g(k.prototype,
"redraw",function(a){this.is3d()&&(this.isDirtyBox=!0);a.apply(this,[].slice.call(arguments,1))});g(k.prototype,"renderSeries",function(a){var c=this.series.length;if(this.is3d())for(;c--;)a=this.series[c],a.translate(),a.render();else a.call(this)});k.prototype.retrieveStacks=function(a){var c=this.series,f={},d,b=1;q(this.series,function(e){d=p(e.options.stack,a?0:c.length-1-e.index);f[d]?f[d].series.push(e):(f[d]={series:[e],position:b},b++)});f.totalStacks=b+1;return f}})(E);(function(a){var r,
k=a.Axis,q=a.Chart,m=a.each,t=a.extend,p=a.merge,g=a.perspective,h=a.pick,n=a.splat,c=a.Tick,f=a.wrap;f(k.prototype,"setOptions",function(a,b){a.call(this,b);this.chart.is3d()&&(a=this.options,a.tickWidth=h(a.tickWidth,0),a.gridLineWidth=h(a.gridLineWidth,1))});f(k.prototype,"render",function(a){a.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var b=this.chart,e=b.renderer,c=b.options.chart.options3d,f=c.frame,g=f.bottom,h=f.back,f=f.side,k=c.depth,n=this.height,p=this.width,m=this.left,
q=this.top;this.isZAxis||(this.horiz?(h={x:m,y:q+(b.xAxis[0].opposite?-g.size:n),z:0,width:p,height:g.size,depth:k,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(h):(this.bottomFrame=e.cuboid(h).attr({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:b.yAxis[0].reversed&&0<c.alpha?4:-1}).add(),this.bottomFrame.attr({fill:g.color||"none",stroke:g.color||"none"}))):(c={x:m+(b.yAxis[0].opposite?0:-f.size),y:q+(b.xAxis[0].opposite?-g.size:0),z:k,width:p+f.size,height:n+g.size,
depth:h.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(c):(this.backFrame=e.cuboid(c).attr({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:-3}).add(),this.backFrame.attr({fill:h.color||"none",stroke:h.color||"none"})),b={x:m+(b.yAxis[0].opposite?p:-f.size),y:q+(b.xAxis[0].opposite?-g.size:0),z:0,width:f.size,height:n+g.size,depth:k,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(b):(this.sideFrame=e.cuboid(b).attr({"class":"highcharts-3d-frame highcharts-3d-frame-side",
zIndex:-2}).add(),this.sideFrame.attr({fill:f.color||"none",stroke:f.color||"none"}))))}});f(k.prototype,"getPlotLinePath",function(a){var b=a.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||null===b)return b;var e=this.chart,c=e.options.chart.options3d,e=this.isZAxis?e.plotWidth:c.depth,c=this.opposite;this.horiz&&(c=!c);b=[this.swapZ({x:b[1],y:b[2],z:c?e:0}),this.swapZ({x:b[1],y:b[2],z:e}),this.swapZ({x:b[4],y:b[5],z:e}),this.swapZ({x:b[4],y:b[5],z:c?0:e})];b=g(b,this.chart,!1);return this.chart.renderer.toLinePath(b,
!1)});f(k.prototype,"getLinePath",function(a){return this.chart.is3d()?[]:a.apply(this,[].slice.call(arguments,1))});f(k.prototype,"getPlotBandPath",function(a){if(!this.chart.is3d())return a.apply(this,[].slice.call(arguments,1));var b=arguments,e=b[1],b=this.getPlotLinePath(b[2]);(e=this.getPlotLinePath(e))&&b?e.push("L",b[10],b[11],"L",b[7],b[8],"L",b[4],b[5],"L",b[1],b[2]):e=null;return e});f(c.prototype,"getMarkPath",function(a){var b=a.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return b;
b=[this.axis.swapZ({x:b[1],y:b[2],z:0}),this.axis.swapZ({x:b[4],y:b[5],z:0})];b=g(b,this.axis.chart,!1);return["M",b[0].x,b[0].y,"L",b[1].x,b[1].y]});f(c.prototype,"getLabelPosition",function(a){var b=a.apply(this,[].slice.call(arguments,1));this.axis.chart.is3d()&&(b=g([this.axis.swapZ({x:b.x,y:b.y,z:0})],this.axis.chart,!1)[0]);return b});a.wrap(k.prototype,"getTitlePosition",function(a){var b=this.chart.is3d(),e,c;b&&(c=this.axisTitleMargin,this.axisTitleMargin=0);e=a.apply(this,[].slice.call(arguments,
1));b&&(e=g([this.swapZ({x:e.x,y:e.y,z:0})],this.chart,!1)[0],e[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*c,this.axisTitleMargin=c);return e});f(k.prototype,"drawCrosshair",function(a){var b=arguments;this.chart.is3d()&&b[2]&&(b[2]={plotX:b[2].plotXold||b[2].plotX,plotY:b[2].plotYold||b[2].plotY});a.apply(this,[].slice.call(b,1))});k.prototype.swapZ=function(a,b){if(this.isZAxis){b=b?0:this.chart.plotLeft;var e=this.chart;return{x:b+(e.yAxis[0].opposite?a.z:e.xAxis[0].width-a.z),
y:a.y,z:a.x-b}}return a};r=a.ZAxis=function(){this.isZAxis=!0;this.init.apply(this,arguments)};t(r.prototype,k.prototype);t(r.prototype,{setOptions:function(a){a=p({offset:0,lineWidth:0},a);k.prototype.setOptions.call(this,a);this.coll="zAxis"},setAxisSize:function(){k.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=
a.dataMax=a.ignoreMinPadding=a.ignoreMaxPadding=null;a.buildStacks&&a.buildStacks();m(a.series,function(e){if(e.visible||!b.options.chart.ignoreHiddenSeries)a.hasVisibleSeries=!0,e=e.zData,e.length&&(a.dataMin=Math.min(h(a.dataMin,e[0]),Math.min.apply(null,e)),a.dataMax=Math.max(h(a.dataMax,e[0]),Math.max.apply(null,e)))})}});f(q.prototype,"getAxes",function(a){var b=this,e=this.options,e=e.zAxis=n(e.zAxis||{});a.call(this);b.is3d()&&(this.zAxis=[],m(e,function(a,e){a.index=e;a.isX=!0;(new r(b,a)).setScale()}))})})(E);
(function(a){function r(a){var c=a.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&(c.stroke=this.options.edgeColor||c.fill,c["stroke-width"]=t(this.options.edgeWidth,1));return c}function k(a){if(this.chart.is3d()){var c=this.chart.options.plotOptions.column.grouping;void 0===c||c||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0)}a.apply(this,[].slice.call(arguments,1))}var q=a.each,m=a.perspective,t=a.pick,p=a.Series,g=a.seriesTypes,
h=a.svg;a=a.wrap;a(g.column.prototype,"translate",function(a){a.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var c=this.chart,f=this.options,d=f.depth||25,b=(f.stacking?f.stack||0:this._i)*(d+(f.groupZPadding||1));!1!==f.grouping&&(b=0);b+=f.groupZPadding||1;q(this.data,function(a){if(null!==a.y){var f=a.shapeArgs,g=a.tooltipPos;a.shapeType="cuboid";f.z=b;f.depth=d;f.insidePlotArea=!0;g=m([{x:g[0],y:g[1],z:b}],c,!0)[0];a.tooltipPos=[g.x,g.y]}});this.z=b}});a(g.column.prototype,"animate",
function(a){if(this.chart.is3d()){var c=arguments[1],f=this.yAxis,d=this,b=this.yAxis.reversed;h&&(c?q(d.data,function(a){null!==a.y&&(a.height=a.shapeArgs.height,a.shapey=a.shapeArgs.y,a.shapeArgs.height=1,b||(a.shapeArgs.y=a.stackY?a.plotY+f.translate(a.stackY):a.plotY+(a.negative?-a.height:a.height)))}):(q(d.data,function(a){null!==a.y&&(a.shapeArgs.height=a.height,a.shapeArgs.y=a.shapey,a.graphic&&a.graphic.animate(a.shapeArgs,d.options.animation))}),this.drawDataLabels(),d.animate=null))}else a.apply(this,
[].slice.call(arguments,1))});a(g.column.prototype,"init",function(a){a.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var c=this.options,f=c.grouping,d=c.stacking,b=t(this.yAxis.options.reversedStacks,!0),e=0;if(void 0===f||f){f=this.chart.retrieveStacks(d);e=c.stack||0;for(d=0;d<f[e].series.length&&f[e].series[d]!==this;d++);e=10*(f.totalStacks-f[e].position)+(b?d:-d);this.xAxis.reversed||(e=10*f.totalStacks-e)}c.zIndex=e}});a(g.column.prototype,"pointAttribs",r);g.columnrange&&a(g.columnrange.prototype,
"pointAttribs",r);a(p.prototype,"alignDataLabel",function(a){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var c=arguments[4],f={x:c.x,y:c.y,z:this.z},f=m([f],this.chart,!0)[0];c.x=f.x;c.y=f.y}a.apply(this,[].slice.call(arguments,1))});g.columnrange&&a(g.columnrange.prototype,"drawPoints",k);a(g.column.prototype,"drawPoints",k)})(E);(function(a){var r=a.deg2rad,k=a.each,q=a.pick,m=a.seriesTypes,t=a.svg;a=a.wrap;a(m.pie.prototype,"translate",function(a){a.apply(this,[].slice.call(arguments,
1));if(this.chart.is3d()){var g=this,h=g.options,m=h.depth||0,c=g.chart.options.chart.options3d,f=c.alpha,d=c.beta,b=h.stacking?(h.stack||0)*m:g._i*m,b=b+m/2;!1!==h.grouping&&(b=0);k(g.data,function(a){var c=a.shapeArgs;a.shapeType="arc3d";c.z=b;c.depth=.75*m;c.alpha=f;c.beta=d;c.center=g.center;c=(c.end+c.start)/2;a.slicedTranslation={translateX:Math.round(Math.cos(c)*h.slicedOffset*Math.cos(f*r)),translateY:Math.round(Math.sin(c)*h.slicedOffset*Math.cos(f*r))}})}});a(m.pie.prototype.pointClass.prototype,
"haloPath",function(a){var g=arguments;return this.series.chart.is3d()?[]:a.call(this,g[1])});a(m.pie.prototype,"pointAttribs",function(a,g,h){a=a.call(this,g,h);h=this.options;this.chart.is3d()&&(a.stroke=h.edgeColor||g.color||this.color,a["stroke-width"]=q(h.edgeWidth,1));return a});a(m.pie.prototype,"drawPoints",function(a){a.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&k(this.points,function(a){var h=a.graphic;if(h)h[a.y&&a.visible?"show":"hide"]()})});a(m.pie.prototype,"drawDataLabels",
function(a){if(this.chart.is3d()){var g=this.chart.options.chart.options3d;k(this.data,function(a){var m=a.shapeArgs,c=m.r,f=(m.start+m.end)/2,d=a.labelPos,b=-c*(1-Math.cos((m.alpha||g.alpha)*r))*Math.sin(f),e=c*(Math.cos((m.beta||g.beta)*r)-1)*Math.cos(f);k([0,2,4],function(a){d[a]+=e;d[a+1]+=b})})}a.apply(this,[].slice.call(arguments,1))});a(m.pie.prototype,"addPoint",function(a){a.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});a(m.pie.prototype,"animate",
function(a){if(this.chart.is3d()){var g=arguments[1],h=this.options.animation,k=this.center,c=this.group,f=this.markerGroup;t&&(!0===h&&(h={}),g?(c.oldtranslateX=c.translateX,c.oldtranslateY=c.translateY,g={translateX:k[0],translateY:k[1],scaleX:.001,scaleY:.001},c.attr(g),f&&(f.attrSetters=c.attrSetters,f.attr(g))):(g={translateX:c.oldtranslateX,translateY:c.oldtranslateY,scaleX:1,scaleY:1},c.animate(g,h),f&&f.animate(g,h),this.animate=null))}else a.apply(this,[].slice.call(arguments,1))})})(E);
(function(a){var r=a.perspective,k=a.pick,q=a.Point,m=a.seriesTypes,t=a.wrap;t(m.scatter.prototype,"translate",function(a){a.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var g=this.chart,h=k(this.zAxis,g.options.zAxis[0]),m=[],c,f,d;for(d=0;d<this.data.length;d++)c=this.data[d],f=h.isLog&&h.val2lin?h.val2lin(c.z):c.z,c.plotZ=h.translate(f),c.isInside=c.isInside?f>=h.min&&f<=h.max:!1,m.push({x:c.plotX,y:c.plotY,z:c.plotZ});g=r(m,g,!0);for(d=0;d<this.data.length;d++)c=this.data[d],h=
g[d],c.plotXold=c.plotX,c.plotYold=c.plotY,c.plotZold=c.plotZ,c.plotX=h.x,c.plotY=h.y,c.plotZ=h.z}});t(m.scatter.prototype,"init",function(a,g,h){g.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0);a=a.apply(this,[g,h]);this.chart.is3d()&&(this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>");
return a});t(m.scatter.prototype,"pointAttribs",function(k,g){var h=k.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&g&&(h.zIndex=a.pointCameraDistance(g,this.chart));return h});t(q.prototype,"applyOptions",function(a){var g=a.apply(this,[].slice.call(arguments,1));this.series.chart.is3d()&&void 0===g.z&&(g.z=0);return g})})(E);(function(a){var r=a.Axis,k=a.SVGRenderer,q=a.VMLRenderer;q&&(a.setOptions({animate:!1}),q.prototype.cuboid=k.prototype.cuboid,q.prototype.cuboidPath=k.prototype.cuboidPath,
q.prototype.toLinePath=k.prototype.toLinePath,q.prototype.createElement3D=k.prototype.createElement3D,q.prototype.arc3d=function(a){a=k.prototype.arc3d.call(this,a);a.css({zIndex:a.zIndex});return a},a.VMLRenderer.prototype.arc3dPath=a.SVGRenderer.prototype.arc3dPath,a.wrap(r.prototype,"render",function(a){a.apply(this,[].slice.call(arguments,1));this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color}));this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),
this.bottomFrame.front.attr({fill:this.bottomFrame.color}));this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))})(E)});